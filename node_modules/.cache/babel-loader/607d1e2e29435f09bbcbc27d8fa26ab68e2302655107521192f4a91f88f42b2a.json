{"ast":null,"code":"var _jsxFileName = \"D:\\\\semester 6\\\\pemweb\\\\Tubes Pemweb\\\\src\\\\pages\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const [cart, setCart] = useState([]);\n  const [products, setProducts] = useState([]); // Admin products for stock validation\n  const [stockErrors, setStockErrors] = useState([]); // Track stock validation errors\n  const [customerInfo, setCustomerInfo] = useState({\n    fullName: \"\",\n    email: \"\",\n    address: \"\",\n    phoneNumber: \"\"\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    const storedProducts = JSON.parse(localStorage.getItem(\"adminProducts\")) || [];\n    setCart(storedCart);\n    setProducts(storedProducts);\n\n    // Redirect jika cart kosong\n    if (storedCart.length === 0) {\n      alert(\"Your cart is empty. Please add some products first.\");\n      navigate(\"/products\");\n      return;\n    }\n\n    // Validate stock availability for cart items\n    validateCartStock(storedCart, storedProducts);\n  }, [navigate]);\n\n  // Validate cart items against available stock\n  const validateCartStock = (cartItems, adminProducts) => {\n    const errors = [];\n    cartItems.forEach(cartItem => {\n      const adminProduct = adminProducts.find(p => p.id === cartItem.id);\n      if (!adminProduct) {\n        errors.push({\n          id: cartItem.id,\n          title: cartItem.title,\n          message: \"Product is no longer available\"\n        });\n      } else if (cartItem.quantity > adminProduct.stock) {\n        errors.push({\n          id: cartItem.id,\n          title: cartItem.title,\n          requestedQty: cartItem.quantity,\n          availableStock: adminProduct.stock,\n          message: `Only ${adminProduct.stock} items available (you have ${cartItem.quantity} in cart)`\n        });\n      }\n    });\n    setStockErrors(errors);\n  };\n\n  // Fix cart quantities to match available stock\n  const fixCartQuantities = () => {\n    const updatedCart = cart.map(cartItem => {\n      const adminProduct = products.find(p => p.id === cartItem.id);\n      if (adminProduct && cartItem.quantity > adminProduct.stock) {\n        return {\n          ...cartItem,\n          quantity: adminProduct.stock\n        };\n      }\n      return cartItem;\n    }).filter(cartItem => {\n      // Remove items that are no longer available\n      const adminProduct = products.find(p => p.id === cartItem.id);\n      return adminProduct && adminProduct.stock > 0;\n    });\n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n\n    // Re-validate after fixing\n    validateCartStock(updatedCart, products);\n    if (updatedCart.length === 0) {\n      alert(\"All items in your cart are out of stock. Redirecting to products page.\");\n      navigate(\"/products\");\n    }\n  };\n\n  // Update cart item quantity with stock validation\n  const updateCartQuantity = (productId, newQuantity) => {\n    const adminProduct = products.find(p => p.id === productId);\n    if (!adminProduct) {\n      alert(\"This product is no longer available.\");\n      return;\n    }\n    if (newQuantity > adminProduct.stock) {\n      alert(`Sorry, only ${adminProduct.stock} items are available in stock.`);\n      return;\n    }\n    if (newQuantity <= 0) {\n      // Remove item from cart\n      const updatedCart = cart.filter(item => item.id !== productId);\n      setCart(updatedCart);\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      validateCartStock(updatedCart, products);\n      return;\n    }\n    const updatedCart = cart.map(item => item.id === productId ? {\n      ...item,\n      quantity: newQuantity\n    } : item);\n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n    validateCartStock(updatedCart, products);\n  };\n\n  // Hitung subtotal dan total\n  const calculateSubtotal = () => {\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2);\n  };\n  const shippingCost = 0;\n  const totalCost = (parseFloat(calculateSubtotal()) + shippingCost).toFixed(2);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCustomerInfo(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Generate unique order ID\n  const generateOrderId = () => {\n    const timestamp = Date.now().toString();\n    const random = Math.random().toString(36).substr(2, 9);\n    return `${timestamp.substr(-8)}-${random}`;\n  };\n  const handlePlaceOrder = e => {\n    e.preventDefault();\n\n    // Check if there are any stock errors\n    if (stockErrors.length > 0) {\n      alert(\"Please resolve stock issues before placing your order. You can use the 'Fix Cart' button to automatically adjust quantities.\");\n      return;\n    }\n\n    // Validasi form\n    if (!customerInfo.fullName || !customerInfo.email || !customerInfo.address || !customerInfo.phoneNumber) {\n      alert(\"Please fill in all required fields.\");\n      return;\n    }\n\n    // Final stock validation before placing order\n    const finalValidation = [];\n    cart.forEach(cartItem => {\n      const adminProduct = products.find(p => p.id === cartItem.id);\n      if (!adminProduct || cartItem.quantity > adminProduct.stock) {\n        finalValidation.push(cartItem.title);\n      }\n    });\n    if (finalValidation.length > 0) {\n      alert(`Stock has changed for: ${finalValidation.join(', ')}. Please refresh and try again.`);\n      window.location.reload();\n      return;\n    }\n\n    // Generate unique order ID\n    const orderId = generateOrderId();\n\n    // Simulasi place order dengan status default 'pending'\n    const orderData = {\n      orderId,\n      customerInfo,\n      items: cart,\n      subtotal: calculateSubtotal(),\n      shipping: shippingCost,\n      total: totalCost,\n      orderDate: new Date().toISOString(),\n      status: 'pending',\n      statusHistory: [{\n        status: 'pending',\n        timestamp: new Date().toISOString(),\n        updatedBy: 'system',\n        note: 'Order placed by customer'\n      }],\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n\n    // Update product stock after successful order\n    const updatedProducts = products.map(product => {\n      const cartItem = cart.find(item => item.id === product.id);\n      if (cartItem) {\n        return {\n          ...product,\n          stock: product.stock - cartItem.quantity\n        };\n      }\n      return product;\n    });\n\n    // Save updated products back to localStorage\n    localStorage.setItem(\"adminProducts\", JSON.stringify(updatedProducts));\n\n    // Simpan order ke localStorage (simulasi)\n    const existingOrders = JSON.parse(localStorage.getItem(\"orders\")) || [];\n    existingOrders.push(orderData);\n    localStorage.setItem(\"orders\", JSON.stringify(existingOrders));\n\n    // Clear cart\n    localStorage.removeItem(\"cart\");\n    alert(`Order placed successfully! Order ID: ${orderData.orderId}\\nYou can track your order using this ID.`);\n    navigate(\"/orders\");\n  };\n  if (cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-10 text-center\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-8\",\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), stockErrors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 bg-red-50 border border-red-200 rounded-md p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-red-800\",\n            children: \"Stock Issues Detected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fixCartQuantities,\n            className: \"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors\",\n            children: \"Fix Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: stockErrors.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-sm text-red-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [error.title, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this), \" \", error.message]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-600 mt-2\",\n          children: \"Click \\\"Fix Cart\\\" to automatically adjust quantities to available stock.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-lg p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 mb-6\",\n            children: \"Customer Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handlePlaceOrder,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"fullName\",\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Full Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"fullName\",\n                  name: \"fullName\",\n                  value: customerInfo.fullName,\n                  onChange: handleInputChange,\n                  placeholder: \"John Doe\",\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email\",\n                  name: \"email\",\n                  value: customerInfo.email,\n                  onChange: handleInputChange,\n                  placeholder: \"john@example.com\",\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"address\",\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"address\",\n                name: \"address\",\n                value: customerInfo.address,\n                onChange: handleInputChange,\n                placeholder: \"123 Main St, City, Country\",\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"phoneNumber\",\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                id: \"phoneNumber\",\n                name: \"phoneNumber\",\n                value: customerInfo.phoneNumber,\n                onChange: handleInputChange,\n                placeholder: \"+1 234 567 890\",\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: stockErrors.length > 0,\n              className: `w-full py-3 px-6 rounded-lg font-semibold transition-colors shadow-lg ${stockErrors.length > 0 ? 'bg-gray-400 text-gray-700 cursor-not-allowed' : 'bg-purple-500 text-white hover:bg-purple-600'}`,\n              children: stockErrors.length > 0 ? 'Resolve Stock Issues First' : 'Place Order'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-lg p-6 h-fit\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 mb-6\",\n            children: \"Order Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4 mb-6\",\n            children: cart.map((item, index) => {\n              const adminProduct = products.find(p => p.id === item.id);\n              const hasStockError = stockErrors.some(error => error.id === item.id);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center justify-between py-3 border rounded-lg px-3 ${hasStockError ? 'border-red-300 bg-red-50' : 'border-gray-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.image,\n                    alt: item.title,\n                    className: \"h-12 w-12 object-contain rounded border\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-sm font-medium text-gray-900 line-clamp-2\",\n                      children: item.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2 mt-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => updateCartQuantity(item.id, item.quantity - 1),\n                        className: \"w-6 h-6 flex items-center justify-center border rounded text-sm hover:bg-gray-100\",\n                        children: \"\\u2212\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-600 px-2\",\n                        children: item.quantity\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => updateCartQuantity(item.id, item.quantity + 1),\n                        className: \"w-6 h-6 flex items-center justify-center border rounded text-sm hover:bg-gray-100\",\n                        children: \"+\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 380,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 25\n                    }, this), adminProduct && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: [\"Stock available: \", adminProduct.stock]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-semibold text-gray-900\",\n                    children: [\"$\", (item.price * item.quantity).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 23\n                  }, this), hasStockError && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-red-600 mt-1\",\n                    children: \"Stock issue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 border-t border-gray-200 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: [\"$\", calculateSubtotal()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-green-600\",\n                children: \"Free\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-lg font-bold text-gray-900 border-t border-gray-200 pt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-600\",\n                children: [\"$\", totalCost]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 bg-blue-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-blue-900 mb-2\",\n              children: \"Order Status Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-700\",\n              children: \"After placing your order, you will receive an Order ID that you can use to track your order status. Your order will initially be set to \\\"Pending\\\" and will be updated by our admin team as it progresses.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n_s(Checkout, \"mWJRmGHdRgYhKPs53n2dM4uWLiE=\", false, function () {\n  return [useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Checkout","_s","cart","setCart","products","setProducts","stockErrors","setStockErrors","customerInfo","setCustomerInfo","fullName","email","address","phoneNumber","navigate","storedCart","JSON","parse","localStorage","getItem","storedProducts","length","alert","validateCartStock","cartItems","adminProducts","errors","forEach","cartItem","adminProduct","find","p","id","push","title","message","quantity","stock","requestedQty","availableStock","fixCartQuantities","updatedCart","map","filter","setItem","stringify","updateCartQuantity","productId","newQuantity","item","calculateSubtotal","reduce","total","price","toFixed","shippingCost","totalCost","parseFloat","handleInputChange","e","name","value","target","prev","generateOrderId","timestamp","Date","now","toString","random","Math","substr","handlePlaceOrder","preventDefault","finalValidation","join","window","location","reload","orderId","orderData","items","subtotal","shipping","orderDate","toISOString","status","statusHistory","updatedBy","note","createdAt","updatedAt","updatedProducts","product","existingOrders","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","error","index","onSubmit","htmlFor","type","onChange","placeholder","required","disabled","hasStockError","some","src","image","alt","_c","$RefreshReg$"],"sources":["D:/semester 6/pemweb/Tubes Pemweb/src/pages/Checkout.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Checkout = () => {\r\n  const [cart, setCart] = useState([]);\r\n  const [products, setProducts] = useState([]); // Admin products for stock validation\r\n  const [stockErrors, setStockErrors] = useState([]); // Track stock validation errors\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    fullName: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    phoneNumber: \"\"\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n    const storedProducts = JSON.parse(localStorage.getItem(\"adminProducts\")) || [];\r\n    \r\n    setCart(storedCart);\r\n    setProducts(storedProducts);\r\n\r\n    // Redirect jika cart kosong\r\n    if (storedCart.length === 0) {\r\n      alert(\"Your cart is empty. Please add some products first.\");\r\n      navigate(\"/products\");\r\n      return;\r\n    }\r\n\r\n    // Validate stock availability for cart items\r\n    validateCartStock(storedCart, storedProducts);\r\n  }, [navigate]);\r\n\r\n  // Validate cart items against available stock\r\n  const validateCartStock = (cartItems, adminProducts) => {\r\n    const errors = [];\r\n    \r\n    cartItems.forEach(cartItem => {\r\n      const adminProduct = adminProducts.find(p => p.id === cartItem.id);\r\n      if (!adminProduct) {\r\n        errors.push({\r\n          id: cartItem.id,\r\n          title: cartItem.title,\r\n          message: \"Product is no longer available\"\r\n        });\r\n      } else if (cartItem.quantity > adminProduct.stock) {\r\n        errors.push({\r\n          id: cartItem.id,\r\n          title: cartItem.title,\r\n          requestedQty: cartItem.quantity,\r\n          availableStock: adminProduct.stock,\r\n          message: `Only ${adminProduct.stock} items available (you have ${cartItem.quantity} in cart)`\r\n        });\r\n      }\r\n    });\r\n    \r\n    setStockErrors(errors);\r\n  };\r\n\r\n  // Fix cart quantities to match available stock\r\n  const fixCartQuantities = () => {\r\n    const updatedCart = cart.map(cartItem => {\r\n      const adminProduct = products.find(p => p.id === cartItem.id);\r\n      if (adminProduct && cartItem.quantity > adminProduct.stock) {\r\n        return {\r\n          ...cartItem,\r\n          quantity: adminProduct.stock\r\n        };\r\n      }\r\n      return cartItem;\r\n    }).filter(cartItem => {\r\n      // Remove items that are no longer available\r\n      const adminProduct = products.find(p => p.id === cartItem.id);\r\n      return adminProduct && adminProduct.stock > 0;\r\n    });\r\n\r\n    setCart(updatedCart);\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n    \r\n    // Re-validate after fixing\r\n    validateCartStock(updatedCart, products);\r\n    \r\n    if (updatedCart.length === 0) {\r\n      alert(\"All items in your cart are out of stock. Redirecting to products page.\");\r\n      navigate(\"/products\");\r\n    }\r\n  };\r\n\r\n  // Update cart item quantity with stock validation\r\n  const updateCartQuantity = (productId, newQuantity) => {\r\n    const adminProduct = products.find(p => p.id === productId);\r\n    \r\n    if (!adminProduct) {\r\n      alert(\"This product is no longer available.\");\r\n      return;\r\n    }\r\n    \r\n    if (newQuantity > adminProduct.stock) {\r\n      alert(`Sorry, only ${adminProduct.stock} items are available in stock.`);\r\n      return;\r\n    }\r\n    \r\n    if (newQuantity <= 0) {\r\n      // Remove item from cart\r\n      const updatedCart = cart.filter(item => item.id !== productId);\r\n      setCart(updatedCart);\r\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n      validateCartStock(updatedCart, products);\r\n      return;\r\n    }\r\n\r\n    const updatedCart = cart.map(item => \r\n      item.id === productId ? { ...item, quantity: newQuantity } : item\r\n    );\r\n    \r\n    setCart(updatedCart);\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n    validateCartStock(updatedCart, products);\r\n  };\r\n\r\n  // Hitung subtotal dan total\r\n  const calculateSubtotal = () => {\r\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0).toFixed(2);\r\n  };\r\n\r\n  const shippingCost = 0;\r\n  const totalCost = (parseFloat(calculateSubtotal()) + shippingCost).toFixed(2);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCustomerInfo(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Generate unique order ID\r\n  const generateOrderId = () => {\r\n    const timestamp = Date.now().toString();\r\n    const random = Math.random().toString(36).substr(2, 9);\r\n    return `${timestamp.substr(-8)}-${random}`;\r\n  };\r\n\r\n  const handlePlaceOrder = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Check if there are any stock errors\r\n    if (stockErrors.length > 0) {\r\n      alert(\"Please resolve stock issues before placing your order. You can use the 'Fix Cart' button to automatically adjust quantities.\");\r\n      return;\r\n    }\r\n    \r\n    // Validasi form\r\n    if (!customerInfo.fullName || !customerInfo.email || !customerInfo.address || !customerInfo.phoneNumber) {\r\n      alert(\"Please fill in all required fields.\");\r\n      return;\r\n    }\r\n\r\n    // Final stock validation before placing order\r\n    const finalValidation = [];\r\n    cart.forEach(cartItem => {\r\n      const adminProduct = products.find(p => p.id === cartItem.id);\r\n      if (!adminProduct || cartItem.quantity > adminProduct.stock) {\r\n        finalValidation.push(cartItem.title);\r\n      }\r\n    });\r\n\r\n    if (finalValidation.length > 0) {\r\n      alert(`Stock has changed for: ${finalValidation.join(', ')}. Please refresh and try again.`);\r\n      window.location.reload();\r\n      return;\r\n    }\r\n\r\n    // Generate unique order ID\r\n    const orderId = generateOrderId();\r\n\r\n    // Simulasi place order dengan status default 'pending'\r\n    const orderData = {\r\n      orderId,\r\n      customerInfo,\r\n      items: cart,\r\n      subtotal: calculateSubtotal(),\r\n      shipping: shippingCost,\r\n      total: totalCost,\r\n      orderDate: new Date().toISOString(),\r\n      status: 'pending',\r\n      statusHistory: [\r\n        {\r\n          status: 'pending',\r\n          timestamp: new Date().toISOString(),\r\n          updatedBy: 'system',\r\n          note: 'Order placed by customer'\r\n        }\r\n      ],\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString()\r\n    };\r\n\r\n    // Update product stock after successful order\r\n    const updatedProducts = products.map(product => {\r\n      const cartItem = cart.find(item => item.id === product.id);\r\n      if (cartItem) {\r\n        return {\r\n          ...product,\r\n          stock: product.stock - cartItem.quantity\r\n        };\r\n      }\r\n      return product;\r\n    });\r\n\r\n    // Save updated products back to localStorage\r\n    localStorage.setItem(\"adminProducts\", JSON.stringify(updatedProducts));\r\n\r\n    // Simpan order ke localStorage (simulasi)\r\n    const existingOrders = JSON.parse(localStorage.getItem(\"orders\")) || [];\r\n    existingOrders.push(orderData);\r\n    localStorage.setItem(\"orders\", JSON.stringify(existingOrders));\r\n\r\n    // Clear cart\r\n    localStorage.removeItem(\"cart\");\r\n    \r\n    alert(`Order placed successfully! Order ID: ${orderData.orderId}\\nYou can track your order using this ID.`);\r\n    navigate(\"/orders\");\r\n  };\r\n\r\n  if (cart.length === 0) {\r\n    return <div className=\"p-10 text-center\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Checkout</h1>\r\n        \r\n        {/* Stock Error Notifications */}\r\n        {stockErrors.length > 0 && (\r\n          <div className=\"mb-6 bg-red-50 border border-red-200 rounded-md p-4\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <h3 className=\"text-lg font-medium text-red-800\">Stock Issues Detected</h3>\r\n              <button\r\n                onClick={fixCartQuantities}\r\n                className=\"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors\"\r\n              >\r\n                Fix Cart\r\n              </button>\r\n            </div>\r\n            <ul className=\"space-y-2\">\r\n              {stockErrors.map((error, index) => (\r\n                <li key={index} className=\"text-sm text-red-700\">\r\n                  <strong>{error.title}:</strong> {error.message}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <p className=\"text-sm text-red-600 mt-2\">\r\n              Click \"Fix Cart\" to automatically adjust quantities to available stock.\r\n            </p>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          {/* Customer Information Section */}\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Customer Information</h2>\r\n            \r\n            <form onSubmit={handlePlaceOrder} className=\"space-y-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label htmlFor=\"fullName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Full Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"fullName\"\r\n                    name=\"fullName\"\r\n                    value={customerInfo.fullName}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"John Doe\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    value={customerInfo.email}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"john@example.com\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor=\"address\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Address\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"address\"\r\n                  name=\"address\"\r\n                  value={customerInfo.address}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"123 Main St, City, Country\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor=\"phoneNumber\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Phone Number\r\n                </label>\r\n                <input\r\n                  type=\"tel\"\r\n                  id=\"phoneNumber\"\r\n                  name=\"phoneNumber\"\r\n                  value={customerInfo.phoneNumber}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"+1 234 567 890\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <button\r\n                type=\"submit\"\r\n                disabled={stockErrors.length > 0}\r\n                className={`w-full py-3 px-6 rounded-lg font-semibold transition-colors shadow-lg ${\r\n                  stockErrors.length > 0\r\n                    ? 'bg-gray-400 text-gray-700 cursor-not-allowed'\r\n                    : 'bg-purple-500 text-white hover:bg-purple-600'\r\n                }`}\r\n              >\r\n                {stockErrors.length > 0 ? 'Resolve Stock Issues First' : 'Place Order'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          {/* Order Summary Section */}\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 h-fit\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Order Summary</h2>\r\n            \r\n            {/* Cart Items */}\r\n            <div className=\"space-y-4 mb-6\">\r\n              {cart.map((item, index) => {\r\n                const adminProduct = products.find(p => p.id === item.id);\r\n                const hasStockError = stockErrors.some(error => error.id === item.id);\r\n                \r\n                return (\r\n                  <div key={index} className={`flex items-center justify-between py-3 border rounded-lg px-3 ${\r\n                    hasStockError ? 'border-red-300 bg-red-50' : 'border-gray-200'\r\n                  }`}>\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <img \r\n                        src={item.image} \r\n                        alt={item.title} \r\n                        className=\"h-12 w-12 object-contain rounded border\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"text-sm font-medium text-gray-900 line-clamp-2\">\r\n                          {item.title}\r\n                        </h3>\r\n                        <div className=\"flex items-center space-x-2 mt-1\">\r\n                          <button\r\n                            onClick={() => updateCartQuantity(item.id, item.quantity - 1)}\r\n                            className=\"w-6 h-6 flex items-center justify-center border rounded text-sm hover:bg-gray-100\"\r\n                          >\r\n                            −\r\n                          </button>\r\n                          <span className=\"text-sm text-gray-600 px-2\">\r\n                            {item.quantity}\r\n                          </span>\r\n                          <button\r\n                            onClick={() => updateCartQuantity(item.id, item.quantity + 1)}\r\n                            className=\"w-6 h-6 flex items-center justify-center border rounded text-sm hover:bg-gray-100\"\r\n                          >\r\n                            +\r\n                          </button>\r\n                        </div>\r\n                        {adminProduct && (\r\n                          <p className=\"text-xs text-gray-500 mt-1\">\r\n                            Stock available: {adminProduct.stock}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-sm font-semibold text-gray-900\">\r\n                        ${(item.price * item.quantity).toFixed(2)}\r\n                      </p>\r\n                      {hasStockError && (\r\n                        <p className=\"text-xs text-red-600 mt-1\">Stock issue</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Order Totals */}\r\n            <div className=\"space-y-3 border-t border-gray-200 pt-4\">\r\n              <div className=\"flex justify-between text-sm text-gray-600\">\r\n                <span>Subtotal</span>\r\n                <span className=\"font-semibold\">${calculateSubtotal()}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between text-sm text-gray-600\">\r\n                <span>Shipping</span>\r\n                <span className=\"font-semibold text-green-600\">Free</span>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between text-lg font-bold text-gray-900 border-t border-gray-200 pt-3\">\r\n                <span>Total</span>\r\n                <span className=\"text-purple-600\">${totalCost}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Order Status Info */}\r\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\r\n              <h3 className=\"text-sm font-semibold text-blue-900 mb-2\">Order Status Information</h3>\r\n              <p className=\"text-xs text-blue-700\">\r\n                After placing your order, you will receive an Order ID that you can use to track your order status. \r\n                Your order will initially be set to \"Pending\" and will be updated by our admin team as it progresses.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}