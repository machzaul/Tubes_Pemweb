{"ast":null,"code":"// utils.js\n\nconst CART_KEY = 'cart';\n\n// Ambil cart dari localStorage\nexport function getCart() {\n  if (typeof window === 'undefined') return [];\n  const stored = localStorage.getItem(CART_KEY);\n  return stored ? JSON.parse(stored) : [];\n}\n\n// Simpan cart ke localStorage\nfunction saveCart(cart) {\n  if (typeof window === 'undefined') return;\n  localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\n\n// Tambah item ke cart\nexport function addToCart(product, quantity) {\n  const cart = getCart();\n  const index = cart.findIndex(item => item.id === product.id);\n  if (index > -1) {\n    cart[index].quantity += quantity;\n  } else {\n    cart.push({\n      ...product,\n      quantity\n    });\n  }\n  saveCart(cart);\n  return cart;\n}\n\n// Update quantity item cart\nexport function updateCartItem(productId, quantity) {\n  const cart = getCart();\n  const index = cart.findIndex(item => item.id === productId);\n  if (index === -1) return false;\n  cart[index].quantity = quantity;\n  if (cart[index].quantity <= 0) {\n    cart.splice(index, 1);\n  }\n  saveCart(cart);\n  return true;\n}\n\n// Remove item dari cart\nexport function removeCartItem(productId) {\n  let cart = getCart();\n  cart = cart.filter(item => item.id !== productId);\n  saveCart(cart);\n  return cart;\n}\n\n// Clear seluruh cart\nexport function clearCart() {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem(CART_KEY);\n}\n\n// Hitung total harga cart\nexport function calculateCartTotal() {\n  const cart = getCart();\n  return cart.reduce((total, item) => total + item.price * item.quantity, 0);\n}","map":{"version":3,"names":["CART_KEY","getCart","window","stored","localStorage","getItem","JSON","parse","saveCart","cart","setItem","stringify","addToCart","product","quantity","index","findIndex","item","id","push","updateCartItem","productId","splice","removeCartItem","filter","clearCart","removeItem","calculateCartTotal","reduce","total","price"],"sources":["D:/semester 6/pemweb/Tubes Pemweb/src/lib/utils.js"],"sourcesContent":["// utils.js\r\n\r\nconst CART_KEY = 'cart';\r\n\r\n// Ambil cart dari localStorage\r\nexport function getCart() {\r\n  if (typeof window === 'undefined') return [];\r\n  const stored = localStorage.getItem(CART_KEY);\r\n  return stored ? JSON.parse(stored) : [];\r\n}\r\n\r\n// Simpan cart ke localStorage\r\nfunction saveCart(cart) {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.setItem(CART_KEY, JSON.stringify(cart));\r\n}\r\n\r\n// Tambah item ke cart\r\nexport function addToCart(product, quantity) {\r\n  const cart = getCart();\r\n  const index = cart.findIndex(item => item.id === product.id);\r\n  if (index > -1) {\r\n    cart[index].quantity += quantity;\r\n  } else {\r\n    cart.push({ ...product, quantity });\r\n  }\r\n  saveCart(cart);\r\n  return cart;\r\n}\r\n\r\n// Update quantity item cart\r\nexport function updateCartItem(productId, quantity) {\r\n  const cart = getCart();\r\n  const index = cart.findIndex(item => item.id === productId);\r\n  if (index === -1) return false;\r\n\r\n  cart[index].quantity = quantity;\r\n  if (cart[index].quantity <= 0) {\r\n    cart.splice(index, 1);\r\n  }\r\n  saveCart(cart);\r\n  return true;\r\n}\r\n\r\n// Remove item dari cart\r\nexport function removeCartItem(productId) {\r\n  let cart = getCart();\r\n  cart = cart.filter(item => item.id !== productId);\r\n  saveCart(cart);\r\n  return cart;\r\n}\r\n\r\n// Clear seluruh cart\r\nexport function clearCart() {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.removeItem(CART_KEY);\r\n}\r\n\r\n// Hitung total harga cart\r\nexport function calculateCartTotal() {\r\n  const cart = getCart();\r\n  return cart.reduce((total, item) => total + item.price * item.quantity, 0);\r\n}\r\n"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAG,MAAM;;AAEvB;AACA,OAAO,SAASC,OAAOA,CAAA,EAAG;EACxB,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE,OAAO,EAAE;EAC5C,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAACL,QAAQ,CAAC;EAC7C,OAAOG,MAAM,GAAGG,IAAI,CAACC,KAAK,CAACJ,MAAM,CAAC,GAAG,EAAE;AACzC;;AAEA;AACA,SAASK,QAAQA,CAACC,IAAI,EAAE;EACtB,IAAI,OAAOP,MAAM,KAAK,WAAW,EAAE;EACnCE,YAAY,CAACM,OAAO,CAACV,QAAQ,EAAEM,IAAI,CAACK,SAAS,CAACF,IAAI,CAAC,CAAC;AACtD;;AAEA;AACA,OAAO,SAASG,SAASA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EAC3C,MAAML,IAAI,GAAGR,OAAO,CAAC,CAAC;EACtB,MAAMc,KAAK,GAAGN,IAAI,CAACO,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE,CAAC;EAC5D,IAAIH,KAAK,GAAG,CAAC,CAAC,EAAE;IACdN,IAAI,CAACM,KAAK,CAAC,CAACD,QAAQ,IAAIA,QAAQ;EAClC,CAAC,MAAM;IACLL,IAAI,CAACU,IAAI,CAAC;MAAE,GAAGN,OAAO;MAAEC;IAAS,CAAC,CAAC;EACrC;EACAN,QAAQ,CAACC,IAAI,CAAC;EACd,OAAOA,IAAI;AACb;;AAEA;AACA,OAAO,SAASW,cAAcA,CAACC,SAAS,EAAEP,QAAQ,EAAE;EAClD,MAAML,IAAI,GAAGR,OAAO,CAAC,CAAC;EACtB,MAAMc,KAAK,GAAGN,IAAI,CAACO,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKG,SAAS,CAAC;EAC3D,IAAIN,KAAK,KAAK,CAAC,CAAC,EAAE,OAAO,KAAK;EAE9BN,IAAI,CAACM,KAAK,CAAC,CAACD,QAAQ,GAAGA,QAAQ;EAC/B,IAAIL,IAAI,CAACM,KAAK,CAAC,CAACD,QAAQ,IAAI,CAAC,EAAE;IAC7BL,IAAI,CAACa,MAAM,CAACP,KAAK,EAAE,CAAC,CAAC;EACvB;EACAP,QAAQ,CAACC,IAAI,CAAC;EACd,OAAO,IAAI;AACb;;AAEA;AACA,OAAO,SAASc,cAAcA,CAACF,SAAS,EAAE;EACxC,IAAIZ,IAAI,GAAGR,OAAO,CAAC,CAAC;EACpBQ,IAAI,GAAGA,IAAI,CAACe,MAAM,CAACP,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKG,SAAS,CAAC;EACjDb,QAAQ,CAACC,IAAI,CAAC;EACd,OAAOA,IAAI;AACb;;AAEA;AACA,OAAO,SAASgB,SAASA,CAAA,EAAG;EAC1B,IAAI,OAAOvB,MAAM,KAAK,WAAW,EAAE;EACnCE,YAAY,CAACsB,UAAU,CAAC1B,QAAQ,CAAC;AACnC;;AAEA;AACA,OAAO,SAAS2B,kBAAkBA,CAAA,EAAG;EACnC,MAAMlB,IAAI,GAAGR,OAAO,CAAC,CAAC;EACtB,OAAOQ,IAAI,CAACmB,MAAM,CAAC,CAACC,KAAK,EAAEZ,IAAI,KAAKY,KAAK,GAAGZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACH,QAAQ,EAAE,CAAC,CAAC;AAC5E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}